%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Descr:       Vorlage für die Master-Thesis an der KFRU 
%% Author:      Mikka Jenne, mikka.jenne@cgi.com
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[
  ngerman           % neue deutsche Rechtschreibung
% ,a4paper          % Papiergrösse
  ,twoside          % Zweiseitiger Druck (rechts/links)
% ,10pt             % Schriftgrösse
  ,11pt
% ,12pt
  ,pdftex
%  ,disable         % Todo-Markierungen auschalten
]{report}

% Bitte die Codierung Ihrer Dateien auswählen:
% \usepackage[latin1]{inputenc}    % Für UNIX mit ISO-LATIN-codierten Dateien
% \usepackage[applemac]{inputenc}  % Für Apple Mac
% \usepackage[ansinew]{inputenc}   % Für Microsoft Windows
\usepackage[utf8]{inputenc}        % UTF-8 codierte Dateien
                                   % Dieses Dokument ist unter Unix erstellt, daher
                                   % wird diese Input-Codierung benutzt.
\usepackage[english,german]{babel}
\usepackage{bericht}
\usepackage{caption}
\usepackage{subcaption}
%\usepackage{subfigure}
\usepackage{amsmath}
%\usepackage{blindtext}
\usepackage{footnote}
% This package is responsible for the "draft" watermark on the background of the pdf
\usepackage{background}
% This removes the watermark 
%\backgroundsetup{contents={}}
%Is used to get Pages at landscape format
\usepackage{pdflscape}
%\usepackage{lscape}% works

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Angaben zur Arbeit
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\Autor}{Mikka Jenne}
\newcommand{\MatrikelNummer}{800864}
\newcommand{\Kursbezeichnung}{PSEJG20}
\newcommand{\FirmenName}{Reutlingen}
\newcommand{\FirmenStadt}{Karlsruhe}
\newcommand{\cgiFirmenLogo}{\includegraphics[]{CGI_LOGO}}
\newcommand{\FirmenLogoDeckblatt}{}
\newcommand{\BetreuerFirma}{Dr. Robin Braun}
\newcommand{\BetreuerDHBW}{Prof. Dr. Natividad Martinez Madrid}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\Was}{Master-Thesis}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\Titel}{Konzeption und prototypische Umsetzung einer Steuerzentrale eines smarten Büros mit dem Fokus einer einfachen Handhabung der formalisierten Interaktionen für Softwareentwickler}
\newcommand{\AbgabeDatum}{31. August 2022}
\newcommand{\Dauer}{24 Wochen}
\newcommand{\Abschluss}{Master of Science}
\newcommand{\Studiengang}{Professional Software Engineering}

\hypersetup{%%
  pdfauthor={\Autor},
  pdftitle={\Titel},
  pdfsubject={\Was}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\bibliography{bericht}

\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{titlepage}
  \begin{center}
    \vspace*{-3cm}
    
    \cgiFirmenLogo
    \FirmenLogoDeckblatt\hfill\includegraphics[]{kfru}\\[2cm]
    
    {\Huge \Titel}\\[1.5cm]
    {\Huge\scshape \Was}\\[1cm]
    {\large für die Prüfung zum}\\[0.5cm]
    {\Large \Abschluss}\\[0.5cm]
    {\large des Studienganges \Studiengang}\\[0.5cm]
    {\large an der}\\[0.5cm]
    {\large Knowledge Foundation @ Reutlingen University}\\[0.5cm]
    {\large von}\\[0.5cm]
    {\large\bfseries \Autor}\\[1cm]
    {\large Abgabedatum \AbgabeDatum}
    
    \vfill
  \end{center}
  \begin{tabular}{l@{\hspace{4cm}}l}

    Bearbeitungszeitraum	         & \Dauer 			    \\
    Teilnehmernummer	             & \MatrikelNummer	\\
    Kurs			                     & \Kursbezeichnung	\\
    %Standort der Universität	     & \FirmenName			\\
    %Standort der Firma			       & \FirmenStadt			\\
    ErstprüferIn	                 & \BetreuerDHBW		\\
    ZweitprüferIn	                 & \BetreuerFirma		\\
  \end{tabular}

  % Fußzeile enthält die Anschrift und das Logo der Reutlingen University
  \backgroundsetup{
    scale=1,
    color=black,
    opacity=1,
    angle=0,
    position=current page.south,
    vshift=60pt,
    hshift=-200pt,
    contents={%
      \begin{minipage}{.18\textwidth}
      \includegraphics[width=1000pt,height=70pt,keepaspectratio]{images/FHRTFooter.png}
      \end{minipage}%
    }
  }
\end{titlepage}

\newpage
\selectlanguage{german}
\begin{abstract}
  Augmented Reality ist eine Technologie, die dem Nutzer ein visuelles 
  Erlebnis mit einer angereicherten Welt voller virtueller Objekte ermöglicht. Das Resultat, eine 
  Kombination aus Realität und Virtualität, bietet dem Benutzer eine neue Art der Wahrnehmung der Gegenwart. %Realitätswahrnehmung.  
  \\ 
  \linebreak
  Diese Bachelorarbeit befasst sich mit der Konzeption und Umsetzung eines industriellen Assistenzsystems unter Verwendung der Augmented Reality Technologie. Dabei soll die Umgebung 
  mit Hilfe des SLAM Verfahrens analysiert werden, um auf dieser Basis dreidimensionale Objekte als Referenz zu realen Objekten im Raum virtuell platzieren zu können. 
  Durch die entstehende Visualisierung können Informationen zu den jeweiligen Objekten in eine Datenbank eingetragen und angezeigt werden, dadurch kann das Überwachen von 
  Industriemaschinen vereinfacht werden. 
  \\ 
  \linebreak
  Zu dem Konzept gehört sowohl die Ausarbeitung der grundlegenden Softwarearchitektur, als auch ein allgemein-gültiges Datenmodell zur 
  Persistierung der generierten Daten. Für die bestmögliche Umsetzung der Augmented Reality Experience werden hierzu bereits schon bestehende Frameworks und Software 
  Development Kits, beispielsweise Google ARCore, verwendet. 
  \\ 
  Der entstandene Prototyp ist ein eigenständiges System. Die Architektur ist modular aufgebaut, um eine stetige Weiterentwicklung zu gewährleisten.  
\end{abstract}

\newpage
\selectlanguage{english}
\begin{abstract}
  Augmented Reality is a technology that enables the user to have a visual 
  experience with an enriched world full of virtual objects. The result offers the user a new 
  way of perceiving surrounding as an Combination of reality and virtuality.
  \\
  \linebreak
  This bachelor thesis deals with the conception and implementation of an industrial assistance system using augmented reality technology. The environment %should
  can be analyzed with the help of the SLAM method in order to be able to place three-dimensional objects virtually as a reference to real objects in space.
  The resulting visualization enables information on the respective objects to be entered in a database and displayed, which enables the simplified 
  monitoring of Industrial machines.
  \\
  \linebreak
  The concept includes the development of the basic software architecture as well as a generally applicable data model for
  saving the generated data. Already existing frameworks and software development kits where used for the best possible implementation of the 
  augmented reality experience as Google ARCore.
  \\
  The created prototype is an standalone system. The architecture is modular in order to ensure continuous further development.
\end{abstract}

\newpage
\selectlanguage{german}
\pagestyle{plain}
\chead{\headmark}
\cfoot{\pagemark}
%\pagestyle{headings}
\pagenumbering{Roman}
\tableofcontents           % Inhaltsverzeichnis hier ausgeben

\newpage
\pagenumbering{arabic}
\include{chapter/1Einleitung/motivation}
%\include{chapter/1Einleitung/forschungsfragen}
%\include{chapter/1Einleitung/zielerreichung}
%\include{chapter/1Einleitung/aufbau}
\include{chapter/2Theor-Grundlagen/iot}
%\include{chapter/2Theor-Grundlagen/smartHome}
\include{chapter/2Theor-Grundlagen/techsAndprots}
%\include{chapter/2Theor-Grundlagen/roboter}
\include{chapter/2Theor-Grundlagen/homeAssistant}
\include{chapter/2Theor-Grundlagen/openHAB}
%\include{chapter/2Theor-Grundlagen/requirementsengineering}
\include{chapter/1Einleitung/technikstand}
\include{chapter/3Anforderungsanalyse/anforderungen}
\begin{landscape}
  \AddToShipoutPictureBG*{%
  \AtPageLowerLeft{%
    \raisebox{\dimexpr.5\paperheight-.5\height}{%
      \makebox[.9\paperwidth][r]{%
        \rotatebox{90}
        {\thepage}
      }% \makebox
    }% \raisebox
  }% \AtPageCenter
}% \AddToShipoutPictureBG*
  \includepdf[scale=0.75, pages=-, angle=90, fitpaper=true, ]{images/UC1_Aktionsdiagramm_Check-in.pdf}
\end{landscape}
\begin{landscape}
  \AddToShipoutPictureBG*{%
  \AtPageLowerLeft{%
    \raisebox{\dimexpr.5\paperheight-.5\height}{%
      \makebox[.9\paperwidth][r]{%
        \rotatebox{90}
        {\thepage}
      }% \makebox
    }% \raisebox
  }% \AtPageCenter
}% \AddToShipoutPictureBG*
  \includepdf[scale=0.75, pages=-, angle=90, fitpaper=true, ]{images/UC1_Sequenzdiagramm_Check-in.pdf}
\end{landscape}
\include{chapter/3Anforderungsanalyse/anforderungenUC}
\begin{landscape}
  \AddToShipoutPictureBG*{%
  \AtPageLowerLeft{%
    \raisebox{\dimexpr.5\paperheight-.5\height}{%
      \makebox[.9\paperwidth][r]{%
        \rotatebox{90}
        {\thepage}
      }% \makebox
    }% \raisebox
  }% \AtPageCenter
}% \AddToShipoutPictureBG*
  \includepdf[scale=0.75, pages=-, angle=90, fitpaper=true, ]{images/UC2_Aktionsdiagramm_Notfall.pdf}
\end{landscape}
\begin{landscape}
  \AddToShipoutPictureBG*{%
  \AtPageLowerLeft{%
    \raisebox{\dimexpr.5\paperheight-.5\height}{%
      \makebox[.9\paperwidth][r]{%
        \rotatebox{90}
        {\thepage}
      }% \makebox
    }% \raisebox
  }% \AtPageCenter
}% \AddToShipoutPictureBG*
  \includepdf[scale=0.75, pages=-, angle=90, fitpaper=true, ]{images/UC2_Sequenzdiagramm_Notfall.pdf}
\end{landscape}
\include{chapter/3Anforderungsanalyse/expertenInterviewUndAnforderungen}
\include{chapter/3Anforderungsanalyse/nichtfunktionaleAnf}
\include{chapter/3Anforderungsanalyse/mehrAnforderungen}
\include{chapter/4Konzeption/konzept}
\begin{landscape}
  \AddToShipoutPictureBG*{%
  \AtPageLowerLeft{%
    \raisebox{\dimexpr.5\paperheight-.5\height}{%
      \makebox[.9\paperwidth][r]{%
        \rotatebox{90}
        {\thepage}
      }% \makebox
    }% \raisebox
  }% \AtPageCenter
}% \AddToShipoutPictureBG*
  \includepdf[scale=0.75, pages=-, angle=90, fitpaper=true, ]{images/konzept_MA.pdf}
\end{landscape}
\include{chapter/4Konzeption/architekturkonzept}
\include{chapter/5Umsetzung/umsetzung}
%\include{chapter/6Ergebnisse/ergebnis}
\include{chapter/7Diskussion-Evaluation/evaluation}
\include{chapter/8Fazit/fazit}
\include{chapter/8Fazit/xausblick}

\pagenumbering{Roman}
% Ab hier beginnt der Anhang
\appendix

\addcontentsline{toc}{chapter}{Index}
\printindex

%\newpage
%\addcontentsline{toc}{chapter}{Liste der ToDo's}
%\listoftodos[Liste der ToDo's]

%\pagenumbering{roman}
\listoffigures             % Liste der Abbildungen
\listoftables              % Liste der Tabellen
\lstlistoflistings         % Liste der Listings
%\listofequations           % Liste der Formeln

\include{abk}              % Abkürzungsverzeichnis

\addcontentsline{toc}{chapter}{Literaturverzeichnis}

% Haben Sie das "biblatex"-Paket nicht installiert, benutzen Sie folgendes:
% Ohne das "biblatex"-Paket (s. bericht.sty) produziert folgendes
% "deutsche" Zitate in Literaturverzeichnissen gemaß der Norm DIN 1505,
% Teil 2 vom Jan. 1984.
% Die Zitatmarken werden alphabetisch nach Verfassern
% sortiert und sind durch abgekürzte Verfasserbuchstaben plus
% Erscheinungsjahr in eckigen Klammern gekennzeichnet.

% \bibliographystyle{alphadin}
% \bibliography{bericht}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
% BIBLATEX
% Benutzt man das "biblatex"-Paket, muß man folgendes schreiben:
\def\refname{Literaturverzeichnis}
\printbibliography

\addcontentsline{toc}{chapter}{Anhang}

\chapter{}
\label{appendix:mqtt-amqp}
  \begin{table}[hbt!]
    \begin{center}
      \begin{tabular}{| p{3.25cm} | p{6cm} | p{6cm} | }
        \hline
          \textbf{Kriterium} & \textbf{MQTT} & \textbf{AMQP}\\
        \hline
          Jahr & 1999 & 2003 \\ 
        \hline
          Architektur & Client/Broker, & Client/Broker Client/Server \\ 
        \hline
          Abstraktion & Publish/Subscribe & Publish/Subscribe Request/response \\ 
        \hline
          Header Größe & 2 Byte,  & 8 Byte \\ 
        \hline
          Nachrichtengröße & max. 265 MB & Abhängig von Broker/Server \\ 
        \hline 
          Semantik / Methoden & Connect, Disconnect, Publish, Subscribne, Unsubscribe, Close & Consume, Deliver, Publish, Get, Select, Ack, Delete, Nack, Recover, Reject, Open, Close \\
        \hline
          Zwischenspeicher (Cache) und Proxy & Teilweise & Ja \\
        \hline
          Standards & OASIS, Eclipse Foundation  & OASIS, ISO/IEC \\ 
        \hline
          Transport-Protokoll & TCP, & TCP, SCTP \\
        \hline
          Sicherheit & TLS/SSL & TLS/SSL \\ 
        \hline
          Standard-Port & 1883/8883 (TLS/SSL) & 5671 (TLS/SSL), 5672 \\
        \hline
          Format & binär  & Binär \\ 
        \hline
          Lizenzmodell & Open Source & Open Source \\
        \hline
          Support & IBM, Facebook, Eurotech, Cisco, Red Hat Amazon (AWS) etc. & Microsoft, JP Morgan, Bank of America, Barclays, Goldman Sachs Credit Suisse \\ 
        \hline
      \end{tabular}
    \end{center}
    \caption{Vergleich von MQTT und AMQP \cite{Naik2017}}
    \label{tab:mqtt-vs-amqp}
  \end{table}

\chapter{}
\label{appendix:comparison}
\begin{table}[hbt!]
  \begin{center}
      \begin{tabular}{| p{3.0cm} | p{6.2cm} | p{6.2cm} | }
          \hline
            \textbf{Attribut} & \textbf{openHAB} & \textbf{Home Assistant} \\
          \hline
            Architektur & Robustheit und Starrheit, sowie die gewissenhafte Entwicklung & Erfordert häufigere Updates, bietet jedoch eine schnelle Entwicklung und eine viel modernere und anspruchsvollere Architektur \cite{sh-uni-comparison}. \\ 
          \hline
            Installation und Wartung & Installation ist genauestens dokumentiert. Initiale Konfiguration muss über die Kommandozeile durchgeführt werden, Updates ebenso. & Ein-Klick-Installationsprozess. Initiale Konfiguration benötigt das Verständnis von YAML-Dateien. Updates können über die UI verwaltet werden \cite{sh-uni-comparison}. \\ 
          \hline
            Unterstützte Geräte und Verknüpfungen & Durch die gängigen Smart Home Protokolle werden über 1000 Komponenten unterstützt. & Home Assistant unterstützt ebenso über 1000 Komponenten, wobei die Benutzerfreundlichkeit beim Anlegen und Verwalten bei Home Assistant deutlich angenehmer und leichter erscheint \cite{msuttner-comparison}. \\ 
          \hline
            Automatisierungsregeln & Bereitstellung von Automationen durch Xtend. Xtend ist ein flexibler und ausdrucksstarker Java-Dialekt, der sich in Quellcode basierend auf Java 8 kompilieren lässt. Ebenso können über Blockly Automatisierungsregeln erstellt werden. Blocky ist eine clientseitige JavaScript Bibliothek, die visuelle Blöcke mit Anweisungen, Bedingungen uvm. erstellen und editieren lässt. Eine weitere Alternative ist die Verwendung von Node-RED.  & Home Assistant bietet die Möglichkeit, Automatisierungen per YAML zu erstellen. Alternativ mit Node-RED. YAML-Dateien sind flexibler, jedoch nicht unbedingt benutzerfreundlich. \\ 
          \hline
            User Interface & openHAb hat in den User Interface viele Duplikate und zu viele ähnliche Optionen zur Verfügung bei unterschiedlicher Oberfläche. & Die Benutzeroberfläche der Home Assistant Plattform ist für Einsteiger und Anfänger deutlich benutzerfreundlicher und weniger komplex als openHAB. \\
          \hline
            Mobile Anwendungen & openHAB bietet eine dedizierte App für iOS und Android. Diese ist mit innovativen Optionen ausgestattet.  & Home Assistant bietet ebenso eine App für iOS und Android, jedoch bei weitem nicht so stark entwickelt als die von openHAB. Die Benachrichtigungsdienste sind jedoch mit Home Assistant besser genutzt. \\ 
          \hline
            Community und Dokumentation & openHAB bietet eine sehr starke und repräsentative Community. Die Dokumentation ist ausführlich und beschreibt die Prozesse, Konzept und Architektur ausführlich. & Home Assistant unterscheidet sich in diesen Punkten nicht von openHAB. Eine starke Community und eine solide Dokumentation der Plattform.  \\
          \hline
            Vergleich von Xtend \& YAML &  &  \\ 
          \hline 
      \end{tabular}
  \end{center}
  \caption{Vergleich der Plattformen \cite{sh-uni-comparison} \cite{msuttner-comparison} \cite{barclay-comparison}}
  \label{tab:comparisonTableHAOS-openHAB}
\end{table}

\chapter{}
\label{appendix:brandings}
\begin{figure}[hbt!]
  %\centering
  \includepdf[scale=0.60, pages=1, pagecommand={}]{chapter/9Anhang/beliebteste-smart-home-marken-in-deutschland-2022.pdf} %\includegraphics[width=13cm,height=13cm,keepaspectratio]{images/smart_home_connection.png}
  %\caption{Umfrage \url{https://de.statista.com/prognosen/999896/deutschland-beliebteste-smart-home-marken} Abgerufen am 22.05.2022}
  %\label{appendix:brandings}
\end{figure}

\chapter{}
\label{appendix:persona}
\pagebreak
%Personas, die im Rahmen der Zielgruppenanalyse erstellt wurden:
\begin{figure}[hbt!]
  \includepdf[scale=1.00, pages=1, pagecommand={}]{chapter/9Anhang/Persona-1_MA.pdf}
  \caption{Persona 1 zu der Zielgruppenanalyse}
  \label{appendix:persona1}
\end{figure}
\pagebreak
\begin{figure}[hbt!]
  \includepdf[scale=1.00, pages=1, pagecommand={}]{chapter/9Anhang/Persona-2_MA.pdf}
  \caption{Persona 2 zu der Zielgruppenanalyse}
  \label{appendix:persona2}
\end{figure}
\pagebreak
\begin{figure}[hbt!]
  \includepdf[scale=1.00, pages=1, pagecommand={}]{chapter/9Anhang/Persona-3_MA.pdf}
  \caption{Persona 3 zu der Zielgruppenanalyse}
  \label{appendix:persona3}
\end{figure}

\chapter{}
\label{appendix:user-story-uc1}
\include{chapter/9Anhang/UC1_UserStory}
\begin{landscape}
  \AddToShipoutPictureBG*{%
  \AtPageLowerLeft{%
    \raisebox{\dimexpr.5\paperheight-.5\height}{%
      \makebox[.9\paperwidth][r]{%
        \rotatebox{90}
        {\thepage}
      }% \makebox
    }% \raisebox
  }% \AtPageCenter
}% \AddToShipoutPictureBG*
  \includepdf[scale=0.75, pages=-, angle=90, fitpaper=true, ]{images/UC1_Ablaufdiagramm_Sichtweisen.pdf}
\end{landscape}

\chapter{}
\label{appendix:user-story-uc2}
\include{chapter/9Anhang/UC2_UserStory}
\begin{landscape}
  \AddToShipoutPictureBG*{%
  \AtPageLowerLeft{%
    \raisebox{\dimexpr.5\paperheight-.5\height}{%
      \makebox[.9\paperwidth][r]{%
        \rotatebox{90}
        {\thepage}
      }% \makebox
    }% \raisebox
  }% \AtPageCenter
}% \AddToShipoutPictureBG*
  \includepdf[scale=0.75, pages=-, angle=90, fitpaper=true, ]{images/UC2_Ablaufdiagramm_Sichtweisen.pdf}
\end{landscape}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{erklaerung.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\end{document}
